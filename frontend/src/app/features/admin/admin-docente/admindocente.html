<div class="admin-docente-container">
  <h2 class="section-title">Gestión de Docentes</h2>
  
  <!-- Mensaje de error -->
  <div *ngIf="error" class="error-message">
    {{ error }}
    <button (click)="cargarDocentes()" class="btn-retry">Reintentar</button>
  </div>

  <!-- Indicador de carga -->
  <div *ngIf="loading" class="loading-spinner">
    Cargando datos...
  </div>

  <!-- Tabla de docentes -->
  <div class="table-container" *ngIf="!loading && !error">
    <table class="docentes-table">
      <thead>
        <tr>
          <th>Nombre</th>
          <th>Email</th>
          <th>Legajo</th>
          <th>Área</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let docente of docentes">
          <td>{{ docente.name }}</td>
          <td>{{ docente.email }}</td>
          <td>{{ docente.legajo }}</td>
          <td>{{ docente.area || 'N/A' }}</td>
          <td class="actions-column">
            <button (click)="seleccionarDocente(docente)" class="btn-edit">
              Editar
            </button>
            <button (click)="eliminarDocente(docente.id_usuario)" class="btn-delete">
              Eliminar
            </button>
          </td>
        </tr>
      </tbody>
    </table>
    
    <div *ngIf="docentes.length === 0" class="no-records">
      No hay docentes registrados.
    </div>
  </div>

  <!-- Formulario para nuevo docente -->
  <div class="form-container" *ngIf="!modoEdicion">
    <h3>Registrar nuevo docente</h3>
    <form (submit)="crearDocente()">
      <div class="form-group">
        <label for="name">Nombre completo</label>
        <input type="text" id="name" name="name" [(ngModel)]="nuevoDocente.name" required>
      </div>
      
      <div class="form-group">
        <label for="email">Email</label>
        <input type="email" id="email" name="email" [(ngModel)]="nuevoDocente.email" required>
      </div>
      
      <div class="form-group">
        <label for="password">Contraseña</label>
        <input type="password" id="password" name="password" [(ngModel)]="nuevoDocente.password" required>
      </div>
      
      <div class="form-group">
        <label for="legajo">Legajo</label>
        <input type="text" id="legajo" name="legajo" [(ngModel)]="nuevoDocente.legajo" required>
      </div>
      
      <div class="form-group">
        <label for="dni">DNI</label>
        <input type="text" id="dni" name="dni" [(ngModel)]="nuevoDocente.dni" required>
      </div>
      
      <div class="form-group">
        <label for="area">Área</label>
        <input type="text" id="area" name="area" [(ngModel)]="nuevoDocente.area">
      </div>
      
      <div class="form-actions">
        <button type="submit" class="btn-save">Guardar</button>
      </div>
    </form>
  </div>

  <!-- Formulario para editar docente -->
  <div class="form-container" *ngIf="modoEdicion && docenteSeleccionado">
    <h3>Editar docente</h3>
    <form (submit)="actualizarDocente()">
      <div class="form-group">
        <label for="edit-name">Nombre completo</label>
        <input type="text" id="edit-name" name="name" [(ngModel)]="docenteSeleccionado.name" required>
      </div>
      
      <div class="form-group">
        <label for="edit-email">Email</label>
        <input type="email" id="edit-email" name="email" [(ngModel)]="docenteSeleccionado.email" required>
      </div>
      
      <div class="form-group">
        <label for="edit-legajo">Legajo</label>
        <input type="text" id="edit-legajo" name="legajo" [(ngModel)]="docenteSeleccionado.legajo" required>
      </div>
      
      <div class="form-group">
        <label for="edit-dni">DNI</label>
        <input type="text" id="edit-dni" name="dni" [(ngModel)]="docenteSeleccionado.dni" required>
      </div>
      
      <div class="form-group">
        <label for="edit-area">Área</label>
        <input type="text" id="edit-area" name="area" [(ngModel)]="docenteSeleccionado.area">
      </div>
      
      <div class="form-actions">
        <button type="button" (click)="cancelarEdicion()" class="btn-cancel">Cancelar</button>
        <button type="submit" class="btn-save">Actualizar</button>
      </div>
    </form>
  </div>
</div>
